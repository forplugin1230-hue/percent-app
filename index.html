<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§’é€Ÿãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ - å‰²åˆè¨ˆç®—ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="styles.css">
    <!-- AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6896610375368659"
  crossorigin="anonymous"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6896610375368659" crossorigin="anonymous"></script>
</head>
<body>
    <header class="app-header">
        <div class="app-header-inner">
            <a href="index.html" class="app-logo">âš¡ ç§’é€Ÿãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ</a>
            <nav class="app-nav">
                <a href="index.html" class="nav-link active">å‰²åˆè¨ˆç®—</a>
                <a href="jikyuu.html" class="nav-link">æ™‚çµ¦è¨ˆç®—</a>
            </nav>
        </div>
    </header>

    <main class="app-card">
        <div class="section-label">å…¥åŠ›</div>
        <div class="input-section">
            <div class="input-group">
                <label for="amount">é‡‘é¡</label>
                <input type="number" id="amount" placeholder="10000" inputmode="decimal">
            </div>
            <div class="input-group">
                <label for="percentage">ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ (%)</label>
                <input type="number" id="percentage" placeholder="20" inputmode="decimal">
            </div>
        </div>

        <div class="section-label">è¨ˆç®—</div>
        <div class="button-grid">
            <button class="btn-discount" onclick="calculateDiscount()">â—‹ï¼…ã‚ªãƒ•</button>
            <button class="btn-reverse" onclick="calculateReverse()">å…ƒå€¤é€†ç®—</button>
            <button class="btn-increase" onclick="calculateIncrease()">â—‹ï¼…å¢—åŠ </button>
            <button class="btn-decrease" onclick="calculateDecrease()">â—‹ï¼…æ¸›å°‘</button>
            <button class="btn-tax-in" onclick="calculateTaxIn()">ç¨è¾¼ã¿è¨ˆç®—</button>
            <button class="btn-tax-out" onclick="calculateTaxOut()">ç¨æŠœãè¨ˆç®—</button>
        </div>

        <div class="section-label">çµæœ</div>
        <div class="result-section" id="resultSection">
            <div class="result-label">è¨ˆç®—çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
            <div class="result-value">-</div>
        </div>

        <div class="history-section">
            <div class="history-header">
                <div class="history-title">ğŸ“ è¨ˆç®—å±¥æ­´</div>
                <button class="clear-btn" onclick="clearHistory()">ã‚¯ãƒªã‚¢</button>
            </div>
            <div class="history-list" id="historyList">
                <div class="empty-history">ã¾ã è¨ˆç®—å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“</div>
            </div>
        </div>
              <!-- æ¬¡ã«ä¾¿åˆ©ãªè¨ˆç®— -->
      <section class="tools" aria-label="æ¬¡ã«ä¾¿åˆ©ãªè¨ˆç®—">
        <div class="tools-title">æ¬¡ã«ä¾¿åˆ©ãªè¨ˆç®—</div>
        <div class="tools-grid">
          <a class="tool-link" href="jikyuu.html">æ™‚çµ¦è¨ˆç®—</a>
          <a class="tool-link" href="10off.html">10%ã‚ªãƒ•</a>
          <a class="tool-link" href="20off.html">20%ã‚ªãƒ•</a>
          <a class="tool-link" href="30off.html">30%ã‚ªãƒ•</a>
          <a class="tool-link" href="gensaku.html">å‰²å¼•é€†ç®—ï¼ˆå…ƒå€¤ï¼‰</a>
          <a class="tool-link" href="doubleoff.html">äºŒé‡å‰²å¼•</a>
        </div>
      </section>
    </main>
      <footer class="footer">
    <div class="footer-links">
      <a href="howto.html">ä½¿ã„æ–¹</a>
      <a href="about.html">é‹å–¶è€…æƒ…å ±</a>
      <a href="terms.html">åˆ©ç”¨è¦ç´„</a>
      <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
      <a href="contact.html">ãŠå•ã„åˆã‚ã›</a>
    </div>
    <div>Â© ç§’é€Ÿãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ</div>
  </footer>

    <script>
        let history = [];

        function getInputValues() {
            const amount = parseFloat(document.getElementById('amount').value);
            const percentage = parseFloat(document.getElementById('percentage').value);
            return { amount, percentage };
        }

        function displayResult(label, value, detail, calcDescription) {
            const resultSection = document.getElementById('resultSection');
            resultSection.innerHTML = `
                <div class="result-label">${label}</div>
                <div class="result-value">Â¥${value.toLocaleString()}</div>
                ${detail ? `<div class="result-detail">${detail}</div>` : ''}
            `;
            
            addToHistory(calcDescription, value);
        }

        function addToHistory(calc, result) {
            history.unshift({
                calc: calc,
                result: result,
                timestamp: new Date()
            });
            
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="empty-history">ã¾ã è¨ˆç®—å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“</div>';
                return;
            }
            
            historyList.innerHTML = history.map(item => `
                <div class="history-item">
                    <div class="history-calc">${item.calc}</div>
                    <div class="history-result">Â¥${item.result.toLocaleString()}</div>
                </div>
            `).join('');
        }

        function clearHistory() {
            history = [];
            updateHistoryDisplay();
        }

        function calculateDiscount() {
            const { amount, percentage } = getInputValues();
            if (isNaN(amount) || isNaN(percentage)) {
                alert('é‡‘é¡ã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const discount = amount * (percentage / 100);
            const result = amount - discount;
            
            displayResult(
                `${percentage}%ã‚ªãƒ•`,
                result,
                `${amount.toLocaleString()}å††ã‹ã‚‰${discount.toLocaleString()}å††å¼•ã`,
                `Â¥${amount.toLocaleString()} ã® ${percentage}%ã‚ªãƒ•`
            );
        }

        function calculateReverse() {
            const { amount, percentage } = getInputValues();
            if (isNaN(amount) || isNaN(percentage)) {
                alert('é‡‘é¡ã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const original = amount / (1 - percentage / 100);
            
            displayResult(
                'å…ƒå€¤',
                original,
                `${percentage}%ã‚ªãƒ•ã§${amount.toLocaleString()}å††ã«ãªã‚‹å…ƒã®ä¾¡æ ¼`,
                `Â¥${amount.toLocaleString()} (${percentage}%ã‚ªãƒ•å¾Œ) ã®å…ƒå€¤`
            );
        }

        function calculateIncrease() {
            const { amount, percentage } = getInputValues();
            if (isNaN(amount) || isNaN(percentage)) {
                alert('é‡‘é¡ã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const increase = amount * (percentage / 100);
            const result = amount + increase;
            
            displayResult(
                `${percentage}%å¢—åŠ `,
                result,
                `${amount.toLocaleString()}å††ã«${increase.toLocaleString()}å††ãƒ—ãƒ©ã‚¹`,
                `Â¥${amount.toLocaleString()} ã® ${percentage}%å¢—åŠ `
            );
        }

        function calculateDecrease() {
            const { amount, percentage } = getInputValues();
            if (isNaN(amount) || isNaN(percentage)) {
                alert('é‡‘é¡ã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const decrease = amount * (percentage / 100);
            const result = amount - decrease;
            
            displayResult(
                `${percentage}%æ¸›å°‘`,
                result,
                `${amount.toLocaleString()}å††ã‹ã‚‰${decrease.toLocaleString()}å††ãƒã‚¤ãƒŠã‚¹`,
                `Â¥${amount.toLocaleString()} ã® ${percentage}%æ¸›å°‘`
            );
        }

        function calculateTaxIn() {
            const { amount } = getInputValues();
            if (isNaN(amount)) {
                alert('é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const taxRate = 10;
            const tax = amount * (taxRate / 100);
            const result = amount + tax;
            
            displayResult(
                'ç¨è¾¼ã¿ä¾¡æ ¼',
                result,
                `æœ¬ä½“${amount.toLocaleString()}å†† + æ¶ˆè²»ç¨${tax.toLocaleString()}å††`,
                `Â¥${amount.toLocaleString()} ã®ç¨è¾¼ã¿ (10%)`
            );
        }

        function calculateTaxOut() {
            const { amount } = getInputValues();
            if (isNaN(amount)) {
                alert('é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            const taxRate = 10;
            const result = amount / (1 + taxRate / 100);
            const tax = amount - result;
            
            displayResult(
                'ç¨æŠœãä¾¡æ ¼',
                result,
                `ç¨è¾¼ã¿${amount.toLocaleString()}å††ã‹ã‚‰æ¶ˆè²»ç¨${tax.toLocaleString()}å††ã‚’å¼•ã„ãŸæœ¬ä½“ä¾¡æ ¼`,
                `Â¥${amount.toLocaleString()} ã®ç¨æŠœã (10%)`
            );
        }

        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—ã®ãŸã‚ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        document.getElementById('amount').addEventListener('input', function() {
            // å…¥åŠ›æ™‚ã®å‡¦ç†ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
        });

        document.getElementById('percentage').addEventListener('input', function() {
            // å…¥åŠ›æ™‚ã®å‡¦ç†ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
        });
    </script>
</body>
</html>
